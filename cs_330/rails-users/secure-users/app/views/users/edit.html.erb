<% @main_heading = "Edit #{@user.name} User Profile" %>

<% content_for :head do %>
    <title><%= @main_heading %></title>
<% end %>

<h1><%= @main_heading %></h1>

<% if flash[:errors] %>
    <div class="error">
      <% flash[:errors].each do |e| %>
          <p><%= e %></p>
      <% end %>
    </div>
<% end %>

<form id="login-new-form" action="/users/<%= @user.id %>" method="post">
  <input type="hidden" name="authenticity_token" value="<%= form_authenticity_token %>" />
  <input type="hidden" name="_method" value="patch" />
  <p>
    <label for="name">Name:</label>
    <input type="text" name="name" value="<%= @user.name %>" />
  </p>
  <p>
    <label for="email">Email:</label>
    <input type="text" name="email" value="<%= @user.email %>" />
  </p>
  <p>
    <label for="password">New Password:</label>
    <input type="password" name="password" />
  </p>
  <p>
    <input type="submit" value="Update" />
  </p>
</form>

<form id="login-new-form" action="/users/<%= @user.id %>" method="post">
  <input type="hidden" name="authenticity_token" value="<%= form_authenticity_token %>" />
  <input type="hidden" name="_method" value="delete" />
  <p>
    <input type="submit" value="Delete Account" />
  </p>
</form>

<p>&nbsp;</p>

<p>
  <a href="/users/<%= @user.id %>">Show Profile</a>
</p>

<form action="/sessions/<%= @user.id %>" method="post">
  <input type="hidden" name="authenticity_token" value="<%= form_authenticity_token %>" />
  <input type="hidden" name="_method" value="delete" />
  <p>
    <input type="submit" value="Sign Out" />
  </p>
</form>
